\subsection{Análisis del método propuesto}

A continuación se muestran distintas ejecuciones del método EQuAL, de forma de generar resultados estadísticamente significativos, como se explicó en el apartado 5.6 (Método de validación). Se presentan tablas correspondientes a un tamaño de muestra en particular: 100, 500, 1000, 1500 y 2000 pares de preguntas; y en cada una de ellas, las filas corresponden a un número de clusters \(k\) distinto. Además, en todas las ejecuciones se realizaron 100 ejecuciones de clustering, es decir, teniendo en cuenta que se ensamblaron 5 algoritmos del estado del arte, cada una de las ejecuciones de un valor \(k\) en particular, se realizaron un total de \(500\) ejecuciones de clustering. Como método de evaluación del rendimiento de método EQuAL, se utilizan matrices de confusión. En la tabla, se muestran, por cada fila, una matriz de confusión promedio de cada una de las 10 ejecuciones para ese tamaño de muestra y número de clusters k. Como indicador de rendimiento final, se suman las columnas “\% 0/0” y “\% 1/1” para obtener la precisión, y el error es derivado de \(1 - precisi\acute{o}n\) o sumando “\% 0/1” y “\% 1/0”. Para finalizar, se resalta el mejor resultado correspondiente a un valor k para cada tamaño de muestra.

\begin{table}[]
	\centering
	\begin{tabular}{|c|c|c|c|c|c|c|}
		\hline
		\rowcolor[HTML]{CFE2F3}
		\textbf{Número de Clusters (k)} & \textbf{\% 0/0} & \textbf{\% 0/1} & \textbf{\% 1/0} & \textbf{\% 1/1} & \textbf{Precisión} & \textbf{Error} \\ \hline
		5  & 0.475 & 0.119 & 0.203 & 0.203 & 0.678 & 0.322 \\ \hline
		10 & 0.491 & 0.103 & 0.215 & 0.191 & 0.682 & 0.318 \\ \hline
		15 & 0.444 & 0.15  & 0.164 & 0.242 & 0.686 & 0.314 \\ \hline
		20 & 0.449 & 0.145 & 0.173 & 0.233 & 0.682 & 0.318 \\ \hline
		25 & 0.435 & 0.159 & 0.15  & 0.256 & 0.691 & 0.309 \\ \hline
		\rowcolor[HTML]{D9EAD3}
		30 & 0.435 & 0.159 & 0.145 & 0.261 & 0.696 & 0.304 \\ \hline
		35 & 0.444 & 0.15  & 0.157 & 0.249 & 0.693 & 0.307 \\ \hline
		40 & 0.408 & 0.186 & 0.123 & 0.283 & 0.691 & 0.309 \\ \hline
		45 & 0.459 & 0.135 & 0.176 & 0.23  & 0.689 & 0.311 \\ \hline
		50 & 0.463 & 0.131 & 0.177 & 0.229 & 0.692 & 0.308 \\ \hline
	\end{tabular}
	\caption{Matrices de confusión promedio del método EQuAL. 100 muestras de 100 pares de preguntas cada una. }
	\label{tab:analisis-100-100}
\end{table}

\begin{table}[]
	\centering
	\begin{tabular}{|c|c|c|c|c|c|c|}
		\hline
		\rowcolor[HTML]{CFE2F3}
		\textbf{Número de Clusters (k)} & \textbf{\% 0/0} & \textbf{\% 0/1} & \textbf{\% 1/0} & \textbf{\% 1/1} & \textbf{Precisión} & \textbf{Error} \\ \hline
		5  & 0.4562 & 0.1458 & 0.1908 & 0.2072 & 0.6634 & 0.3366 \\ \hline
		10 & 0.4468 & 0.1596 & 0.1658 & 0.2278 & 0.6746 & 0.3254 \\ \hline
		15 & 0.4356 & 0.1708 & 0.1542 & 0.2394 & 0.675  & 0.325  \\ \hline
		20 & 0.4316 & 0.1748 & 0.1444 & 0.2492 & 0.6808 & 0.3192 \\ \hline
		25 & 0.4306 & 0.1758 & 0.1468 & 0.2468 & 0.6774 & 0.3226 \\ \hline
		30 & 0.4322 & 0.1742 & 0.1476 & 0.246  & 0.6782 & 0.3218 \\ \hline
		35 & 0.4334 & 0.173  & 0.1458 & 0.2478 & 0.6812 & 0.3188 \\ \hline
		40 & 0.4272 & 0.1792 & 0.1378 & 0.2558 & 0.683  & 0.317  \\ \hline
		45 & 0.439  & 0.1674 & 0.1488 & 0.2448 & 0.6838 & 0.3162 \\ \hline
		\rowcolor[HTML]{D9EAD3}
		50 & 0.4378 & 0.1686 & 0.1454 & 0.2482 & 0.686  & 0.314  \\ \hline
	\end{tabular}
	\caption{Matrices de confusión promedio del método EQuAL. 100 muestras de 500 pares de preguntas cada una. }
	\label{tab:analisis-100-500}
\end{table}

\begin{table}[]
	\centering
	\begin{tabular}{|c|c|c|c|c|c|c|}
		\hline
		\rowcolor[HTML]{CFE2F3}
		\textbf{Número de Clusters (k)} & \textbf{\% 0/0} & \textbf{\% 0/1} & \textbf{\% 1/0} & \textbf{\% 1/1} & \textbf{Precisión} & \textbf{Error} \\ \hline
		5  & 0.4488 & 0.1561 & 0.1902 & 0.2049 & 0.6537 & 0.3463 \\ \hline
		10 & 0.4482 & 0.1559 & 0.1847 & 0.2112 & 0.6594 & 0.3406 \\ \hline
		15 & 0.4502 & 0.1539 & 0.188  & 0.2079 & 0.6581 & 0.3419 \\ \hline
		20 & 0.4655 & 0.1386 & 0.2007 & 0.1952 & 0.6607 & 0.3393 \\ \hline
		25 & 0.462  & 0.1421 & 0.1957 & 0.2002 & 0.6622 & 0.3378 \\ \hline
		30 & 0.461  & 0.1431 & 0.1933 & 0.2026 & 0.6636 & 0.3364 \\ \hline
		35 & 0.4608 & 0.1433 & 0.1933 & 0.2026 & 0.6634 & 0.3366 \\ \hline
		40 & 0.466  & 0.1381 & 0.2016 & 0.1943 & 0.6603 & 0.3397 \\ \hline
		45 & 0.4445 & 0.1596 & 0.1765 & 0.2194 & 0.6639 & 0.3361 \\ \hline
		\rowcolor[HTML]{D9EAD3}
		50 & 0.4521 & 0.152  & 0.1804 & 0.2155 & 0.6676 & 0.3324 \\ \hline
	\end{tabular}
	\caption{Matrices de confusión promedio del método EQuAL. 100 muestras de 1000 pares de preguntas cada una. }
	\label{tab:analisis-100-1000}
\end{table}

\begin{table}[]
	\centering
	\begin{tabular}{|c|c|c|c|c|c|c|}
		\hline
		\rowcolor[HTML]{CFE2F3}
		\textbf{Número de Clusters (k)} & \textbf{\% 0/0} & \textbf{\% 0/1} & \textbf{\% 1/0} & \textbf{\% 1/1} & \textbf{Precisión} & \textbf{Error} \\ \hline
		5  & 0.4297 & 0.1773 & 0.1713 & 0.2217 & 0.6514 & 0.3486 \\ \hline
		10 & 0.4709 & 0.136  & 0.2035 & 0.1896 & 0.6605 & 0.3395 \\ \hline
		15 & 0.4293 & 0.1777 & 0.1633 & 0.2297 & 0.659  & 0.341  \\ \hline
		20 & 0.4269 & 0.18   & 0.1624 & 0.2307 & 0.6576 & 0.3424 \\ \hline
		25 & 0.4383 & 0.1687 & 0.171  & 0.222  & 0.6603 & 0.3397 \\ \hline
		30 & 0.4509 & 0.156  & 0.1824 & 0.2107 & 0.6616 & 0.3384 \\ \hline
		35 & 0.4599 & 0.1471 & 0.1893 & 0.2037 & 0.6636 & 0.3364 \\ \hline
		40 & 0.4439 & 0.1631 & 0.1753 & 0.2177 & 0.6616 & 0.3384 \\ \hline
		45 & 0.4485 & 0.1585 & 0.1765 & 0.2165 & 0.665  & 0.335  \\ \hline
		\rowcolor[HTML]{D9EAD3}
		50 & 0.451  & 0.156  & 0.1733 & 0.2197 & 0.6707 & 0.3293 \\ \hline
	\end{tabular}
	\caption{Matrices de confusión promedio del método EQuAL. 100 muestras de 1500 pares de preguntas cada una. }
	\label{tab:analisis-100-1500}
\end{table}

\begin{table}[]
	\centering
	\begin{tabular}{|c|c|c|c|c|c|c|}
		\hline
		\rowcolor[HTML]{CFE2F3}
		\textbf{Número de Clusters (k)} & \textbf{\% 0/0} & \textbf{\% 0/1} & \textbf{\% 1/0} & \textbf{\% 1/1} & \textbf{Precisión} & \textbf{Error} \\ \hline
		5  & 0.4409 & 0.1668 & 0.1739 & 0.2184 & 0.6593 & 0.3407 \\ \hline
		10 & 0.4496 & 0.1581 & 0.1808 & 0.2115 & 0.6611 & 0.3389 \\ \hline
		15 & 0.446  & 0.1617 & 0.1737 & 0.2186 & 0.6646 & 0.3354 \\ \hline
		20 & 0.4476 & 0.1601 & 0.1774 & 0.2149 & 0.6625 & 0.3375 \\ \hline
		25 & 0.4637 & 0.144  & 0.1914 & 0.2009 & 0.6646 & 0.3354 \\ \hline
		30 & 0.431  & 0.1767 & 0.1586 & 0.2337 & 0.6647 & 0.3353 \\ \hline
		35 & 0.4451 & 0.1626 & 0.1689 & 0.2234 & 0.6685 & 0.3315 \\ \hline
		40 & 0.4569 & 0.1508 & 0.1788 & 0.2135 & 0.6704 & 0.3296 \\ \hline
		45 & 0.428  & 0.1797 & 0.152  & 0.2403 & 0.6683 & 0.3317 \\ \hline
		\rowcolor[HTML]{D9EAD3}
		50 & 0.449  & 0.1587 & 0.1719 & 0.2204 & 0.6694 & 0.3306 \\ \hline
	\end{tabular}
	\caption{Matrices de confusión promedio del método EQuAL. 100 muestras de 2000 pares de preguntas cada una. }
	\label{tab:analisis-100-2000}
\end{table}

\begin{table}[]
	\centering
	\footnotesize
	\begin{tabular}{|
			>{\columncolor[HTML]{FFE599}}c |c|c|c|c|c|c|c|}
		\hline
		\tiny\textbf{\begin{tabular}[c]{@{}c@{}}k / \\ Tam. de muestra\end{tabular}} &
		\cellcolor[HTML]{FFE599}\textbf{100} &
		\cellcolor[HTML]{FFE599}\textbf{500} &
		\cellcolor[HTML]{FFE599}\textbf{1000} &
		\cellcolor[HTML]{FFE599}\textbf{1500} &
		\cellcolor[HTML]{FFE599}\textbf{2000} &
		\cellcolor[HTML]{FFE599}\textbf{Media} &
		\cellcolor[HTML]{FFE599}\textbf{Varianza} \\ \hline
		\textbf{5}  & 0.322 & 0.3366 & 0.3463 & 0.3486 & 0.3407 & 0.33884                         & 0.000442972                                                \\ \hline
		\textbf{10} & 0.318 & 0.3254 & 0.3406 & 0.3395 & 0.3389 & 0.33248                         & \cellcolor[HTML]{D9EAD3}{\color[HTML]{333333} 0.000416228} \\ \hline
		\textbf{15} & 0.314 & 0.325  & 0.3419 & 0.341  & 0.3354 & 0.33146                         & 0.000562112                                                \\ \hline
		\textbf{20} & 0.318 & 0.3192 & 0.3393 & 0.3424 & 0.3375 & 0.33128                         & 0.000548948                                                \\ \hline
		\textbf{25} & 0.309 & 0.3226 & 0.3378 & 0.3397 & 0.3354 & 0.3289                          & 0.0006738                                                  \\ \hline
		\textbf{30} & 0.304 & 0.3218 & 0.3364 & 0.3384 & 0.3353 & 0.32718                         & 0.000843088                                                \\ \hline
		\textbf{35} & 0.307 & 0.3188 & 0.3366 & 0.3364 & 0.3315 & 0.32606                         & 0.000663592                                                \\ \hline
		\textbf{40} & 0.309 & 0.317  & 0.3397 & 0.3384 & 0.3296 & 0.32674                         & 0.000721672                                                \\ \hline
		\textbf{45} & 0.311 & 0.3162 & 0.3361 & 0.335  & 0.3317 & 0.326                           & 0.00053654                                                 \\ \hline
		\textbf{50} & 0.308 & 0.314  & 0.3324 & 0.3293 & 0.3306 & \cellcolor[HTML]{D9EAD3}0.32286 & 0.000491712                                                \\ \hline
		\textbf{Media} &
		\cellcolor[HTML]{D9EAD3}0.312 &
		0.32166 &
		0.33871 &
		0.33887 &
		0.33466 &
		\multicolumn{1}{l|}{\cellcolor[HTML]{EFEFEF}} &
		\multicolumn{1}{l|}{\cellcolor[HTML]{EFEFEF}} \\ \hline
		\textbf{Varianza} &
		0.0003 &
		0.000373684 &
		0.000129929 &
		0.000225861 &
		\cellcolor[HTML]{D9EAD3}0.000124864 &
		\multicolumn{1}{l|}{\cellcolor[HTML]{EFEFEF}} &
		\multicolumn{1}{l|}{\cellcolor[HTML]{EFEFEF}} \\ \hline
	\end{tabular}
	\caption{Error en tamaños de muestra vs. número de clusters k, con media y varianza.}
	\label{tab:analisis-error-vs-k}
\end{table}

\bigskip En forma de resumen comparativo, se van a analizar los errores cruzando cada uno de los tamaños de muestra con el número de clusters k utilizado. En la \textbf{Tabla \ref{tab:analisis-error-vs-k}}, como así también en las tablas anteriores que se utilizaron como fuentes de datos de esta última, resulta que la media total del error de todas las ejecuciones, para todos los valores de \(k\) y para todos los tamaños de muestra, es \(0.32918\). Además, con el fin de tener documentada la estabilidad del método, se calculó la varianza promedio por tamaño de muestra que resultó tener un valor \(0.0002308676\) y la varianza promedio por valor k con un valor de \(0.0005900664\). Las \textbf{Figuras \ref{fig:errores-k-tamanos-muestra} y \ref{fig:errores-tamanos-muestra-k}} muestran los resultados de la \textbf{Tabla \ref{tab:analisis-error-vs-k}} desde dos perspectivas distintas: los errores de los valores de \(k\) a lo largo de los distintos tamaños de muestra, y los errores de los tamaños de muestra a lo largo de los distintos valores de \(k\), con el fin de poder observar cómo se comporta el método EQuAL en cada perspectiva, teniendo en cuenta variabilidad y valor absoluto de los errores promedio.

\begin{filecontents*}{erroresktamanomuestra.csv}
100,0.322,0.318,0.314,0.318,0.309,0.304,0.307,0.309,0.311,0.308
500,0.3366,0.3254,0.325,0.3192,0.3226,0.3218,0.3188,0.317,0.3162,0.314
1000,0.3463,0.3406,0.3419,0.3393,0.3378,0.3364,0.3366,0.3397,0.3361,0.3324
1500,0.3486,0.3395,0.341,0.3424,0.3397,0.3384,0.3364,0.3384,0.335,0.3293
2000,0.3407,0.3389,0.3354,0.3375,0.3354,0.3353,0.3315,0.3296,0.3317,0.3306
\end{filecontents*}

\begin{figure}
	\centering
	\scriptsize
	\resizebox{\textwidth}{!}{%
		\begin{tikzpicture}
			\begin{axis}[
				xlabel={Tamaños de muestra},
				ylabel={Error},
				xmin=100, xmax=2000,
				ymin=0.30, ymax=0.36,
				xtick={100,500,1000,1500,2000},
				ytick={0.30,0.31,...,0.36},
				legend pos=north west,
				ymajorgrids=true,
				grid style=dashed,
				]

				\addplot table [mark=square,x index=0, y index=1, col sep=comma] {erroresktamanomuestra.csv};
				\label{k5}
				\addplot table [mark=square,x index=0, y index=2, col sep=comma] {erroresktamanomuestra.csv};
				\label{k10}
				\addplot table [mark=square,x index=0, y index=3, col sep=comma] {erroresktamanomuestra.csv};
				\label{k15}
				\addplot table [mark=square,x index=0, y index=4, col sep=comma] {erroresktamanomuestra.csv};
				\label{k20}
				\addplot table [mark=square,x index=0, y index=5, col sep=comma] {erroresktamanomuestra.csv};
				\label{k25}
				\addplot table [mark=square,x index=0, y index=5, col sep=comma] {erroresktamanomuestra.csv};
				\label{k30}
				\addplot table [mark=square,x index=0, y index=7, col sep=comma] {erroresktamanomuestra.csv};
				\label{k35}
				\addplot table [mark=square,x index=0, y index=8, col sep=comma] {erroresktamanomuestra.csv};
				\label{k40}
				\addplot table [mark=square,x index=0, y index=9, col sep=comma] {erroresktamanomuestra.csv};
				\label{k45}
				\addplot table [mark=square,x index=0, y index=10, col sep=comma] {erroresktamanomuestra.csv};
				\label{k50}
			\end{axis}

			% Primer cuadro de leyendas.
			\node [draw,fill=white] at (rel axis cs: 0.55,0.2) {\scriptsize\shortstack[l]{
					\ref{k5} $k = 5$ \\
					\ref{k10} $k = 10$ \\
					\ref{k15} $k = 15$ \\
					\ref{k20} $k = 20$ \\
					\ref{k25} $k = 25$}};

			% Segundo cuadro de leyendas.
			\node [draw,fill=white] at (rel axis cs: 0.83,0.2) {\scriptsize\shortstack[l]{
					\ref{k30} $k = 30$ \\
					\ref{k35} $k = 35$ \\
					\ref{k40} $k = 40$ \\
					\ref{k45} $k = 45$ \\
					\ref{k50} $k = 50$}};
		\end{tikzpicture}
	}
	\caption{Errores de los valores de \(k\) en los distintos tamaños de muestra.}
	\label{fig:errores-k-tamanos-muestra}
\end{figure}

\begin{filecontents*}{errorestamanomuestrak.csv}
5,0.322,0.3366,0.3463,0.3486,0.3407
10,0.318,0.3254,0.3406,0.3395,0.3389
15,0.314,0.325,0.3419,0.341,0.3354
20,0.318,0.3192,0.3393,0.3424,0.3375
25,0.309,0.3226,0.3378,0.3397,0.3354
30,0.304,0.3218,0.3364,0.3384,0.3353
35,0.307,0.3188,0.3366,0.3364,0.3315
40,0.309,0.317,0.3397,0.3384,0.3296
45,0.311,0.3162,0.3361,0.335,0.3317
50,0.308,0.314,0.3324,0.3293,0.3306
\end{filecontents*}

\begin{figure}
	\centering
	\scriptsize
	\resizebox{\textwidth}{!}{%
		\begin{tikzpicture}
			\begin{axis}[
				xlabel={Valores de k},
				ylabel={Error},
				xmin=5, xmax=50,
				ymin=0.30, ymax=0.37,
				xtick={5,10,...,50},
				ytick={0.30,0.31,...,0.37},
				legend pos=north west,
				ymajorgrids=true,
				grid style=dashed,
				]

				\addplot table [mark=square,x index=0, y index=1, col sep=comma] {errorestamanomuestrak.csv};
				\label{t100}
				\addplot table [mark=square,x index=0, y index=2, col sep=comma] {errorestamanomuestrak.csv};
				\label{t500}
				\addplot table [mark=square,x index=0, y index=3, col sep=comma] {errorestamanomuestrak.csv};
				\label{t1000}
				\addplot table [mark=square,x index=0, y index=4, col sep=comma] {errorestamanomuestrak.csv};
				\label{t1500}
				\addplot table [mark=square,x index=0, y index=5, col sep=comma] {errorestamanomuestrak.csv};
				\label{t2000}
			\end{axis}

			% Cuadro de leyendas.
			\node [draw,fill=white] at (rel axis cs: 0.85,0.8) {\scriptsize\shortstack[l]{
					\ref{t100} $100$ \\
					\ref{t500} $500$ \\
					\ref{t1000} $1000$ \\
					\ref{t1500} $1500$ \\
					\ref{t2000} $2000$}};
		\end{tikzpicture}
	}
	\caption{Errores de los valores de \(k\) en los distintos tamaños de muestra.}
	\label{fig:errores-tamanos-muestra-k}
\end{figure}

\bigskip En la \textbf{Figura \ref{fig:errores-k-tamanos-muestra}} se puede visualizar que los valores de error no tienen una marcada proporcionalidad con el tamaño de muestra, por el contrario, se mantienen estables a lo largo de ella, pero arrojando valores más bajos en tamaños de muestra chica, lo que indicaría que la variabilidad agregada por el método de ensamble provoca buenos resultados. Si tomamos las medias por tamaño de muestra, el error promedio mínimo es \(0.312\) para el tamaño de muestra 100 y el máximo es \(0.33887\) para el tamaño de muestra 1500, lo cual es una diferencia de solo \(0.02687\) en unidades normalizadas, es decir, rango \([0, 1]\). Por otro lado, es posible ver fácilmente que los mejores resultados (errores más bajos) fueron arrojados cuando el número de cluster aumenta (esta correspondencia será confirmada en el análisis de la \textbf{Figura \ref{fig:errores-tamanos-muestra-k}}). Por ejemplo, la curva de \(k = 50\) posee el mejor error en casi todos los tamaños de muestra.

\bigskip La Figura \ref{fig:errores-tamanos-muestra-k}, se puede observar una clara tendencia decreciente a medida que se aumenta el número de clusters, para todos los tamaños de muestra. Esto también queda en evidencia cuando se calculan las medias en cada valor de \(k\), alcanzando una media mínima de error de \(0.32286\) ubicada cuando \(k = 50\) y una media máxima de \(0.33884\) cuando \(k = 5\).

\bigskip Haciendo un análisis más profundo, que se detalla más adelante, ambos gráficos sugieren que el método se comporta mejor con valores altos de \(k\), es decir, con más clusters en los cuales las preguntas pueden ser ubicadas.